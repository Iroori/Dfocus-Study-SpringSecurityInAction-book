# 2장 안녕! 스프링 시큐리티

## 이 단원의 내용

- 스프링 시큐리티로 첫 프로젝트 만들기
- 인증과 권한 부여를 위한 기본 구성 요소로 간단한 기능 설계
- 이러한 구성 요소가 서로 어떻게 연관되는지 이해하기 위한 기본 계약 적용
- 주 책임에 대한 구현 작성
- 스프링 부트의 기본 구성 재 정의

### 시작에 앞서…

- 스프링 부트는 스프링 프레임워크를 이용한 애플리케이션 개발에서 혁신적인 단계로 평가됨.
- 스프링 부트는 미리 준비된 구성을 제공, 모든 구성을 작성하는 대신 자신의 구현과 일치하지 않는 구성만 재정의하면 됨. 이 방식을 설정보다 관습(Convention Over Configuration)이라 함.
- 마이크로 서비스용 앱을 개발하는 데는 스프링 부트가 더욱 인기를 얻었다. 스프링부트는 프로젝트의 자동 구성을 제공해서 설정에 드는 시간을 단축해 준다.
- 이 단원은 스프링 부트를 이용할 때 자동 구성되는 기본값에 관해 알아보며 이러한 기본값을 재정의하는 방법을 간단히 소개함.
- 이 단원에서 이용할 접근법
    1. 스프링 시큐리티와 웹 종속성만 있는 프로젝트를 만들어서 추가된 구성이 없으면 어떻게 작동하는지 확인한다. 이를 통해 인증과 권한 부여의 기본 구성에서 무엇을 기대해야 할지 이해할 수 있다.
    2. 기본 구성을 재 정의하고 맞춤형 사용자와 암호를 정의해서 프로젝트에 사용자 관리 기능을 추가한다.
    3. 애플리케이션이 기본적으로 모든 엔드포인트를 인증하는 것을 확인하고 이 동작도 맞춤 구성할 수 있다는 것을 배운다.
    4. 모범 사례를 이해할 수 있도록 동일한 구성에 대해 다른 스타일을 적용해본다.

## 2장 요약

- 스프링 시큐리티를 애플리케이션의 종속성으로 추가하면 스프링 부트가 약간의 기본 구성을 제공
- 인증과 권한 부여를 위한 기본 구성 요소인 UserDetailsService, PasswordEncoder, AuthenticationProvider를 구현
- User 크래스로 사용자를 정의, 사용자는 이름, 암호, 권한을 가져야 한다. 권한은 사용자가 애플리케이션의 컨텍스트에서 수행할 수 있는 작업을 지정한다.
- 스프링 시큐리티는 UserDetailsService의 간단한 구현인 InMemoryUserDetailsManager를 제공, UserDetailsService의 인스턴스와 같은 사용자를 추가해서 애플리케이션 메모리에서 사용자를 관리할 수 있다.
- NoOpPasswordEncoder는 PasswordEncoder 계약을 구현하며 암호를 평문 테스트로 처리한다. 이 구현은 학습 예제와 개념 증명에 적합하나 실제 운영 단계 애플리케니션에는 적합치 않다.
- AuthenticationProvider 계약을 이용해 애플리케이션을 맞춤형 인증 논리를 구현할 수 있다.
- 구성을 작성하는 방법은 여러 가지가 있지만, 한 애플리케이션에서는 한 방법을 선택하고 고수해야 코드를 깔끔하고 이해하기 쉽게 만들 수 있다.
